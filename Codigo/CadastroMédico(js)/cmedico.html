<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Cadastro Médico</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="">
</head>

<body onload="init()">
    <h2>Cadastro Médico</h2>

    <div class="container">

        <form id="form-usuario">
            <div class="formulario">
            <div class="form-group row col-md-6">
                <div class="col-sm-4">
                    <label for="inputId">Id</label>
                    <input type="text" class="form-control" id="inputId" placeholder="ID" disabled>
                </div>
                <div class="col-12">
                    <label for="inputNome">Nome</label>
                    <input type="text" class="form-control" id="inputNome" required placeholder="Nome completo">
                </div>
                <div class="col-12">
                    <label for="inputData">Data de Nascimento</label>
                    <input type="text" class="form-control" id="inputData" required placeholder="Data de Nascimento">
                </div>

                <div class="col-12">
                    <label for="inputTelefone">Telefone</label>
                    <input type="text" class="form-control" id="inputTelefone" required placeholder="Telefone">
                </div>
                <div class="col-12">
                    <label for="inputEmail">E-mail</label>
                    <input type="email" class="form-control" id="inputEmail" required placeholder="Preencha com o seu e-mail">
                </div>
                <div class="col-12">
                    <label for="inputCidade">Cidade</label>
                    <input type="text" class="form-control" id="inputCidade" placeholder="Preencha com sua cidade" >
                </div>
            </div>
            <div class="form-group row col-md-6">
                <div class="col-12">
                    <label for="inputUF">UF</label>
                    <input type="text" class="form-control" id="inputUF" required placeholder="Preencha com sua unidade federativa">
                </div>
                <div class="col-12">
                    <label for="inputCEP">CEP</label>
                    <input type="text" class="form-control" id="inputCEP" placeholder="Preencha com o CEP" >
                </div>
                <div class="col-12">
                    <label for="inputCPF">CPF</label>
                    <input type="text" class="form-control" id="inputCPF" placeholder="Preencha com o CPF" >
                </div>
                <div class="col-12">
                    <label for="inputCRM">CRM</label>
                    <input type="text" class="form-control" id="inputCRM" placeholder="Preencha com o CRM" >
                </div>
                <div class="col-12">
                    <label for="inputEspecialidade">Especialidade</label>
                    <input type="text" class="form-control" id="inputEspecialidade" placeholder="Preencha com sua Especialidade" >
                </div>
                <div class="col-12">
                    <label for="inputEndereço">Endereço</label>
                    <input type="text" class="form-control" id="inputEndereço" required placeholder="Preencha com o seu endereço">
                </div>
                <div class="col-12">
                    <label for="inputPassword">Senha</label>
                    <input type="password" class="form-control" id="inputPassword" required placeholder="Digite a senha">
                </div>    
                <div class="col-sm-12">
                    <label for="inputCPassword">Digite a senha novamente</label>
                    <input type="password" class="form-control" id="inputCPassword" required placeholder="Confirme a senha">
                </div>
            </div>
            </div>
            <div class="form-group row">
                <div class="col-sm-12">
                    <input type="button" class="btn btn-success" id="btnInsert" value="Cadastrar">
                    <input type="button" class="btn btn-warning" id="btnBack" value="Voltar">
                </div>
            </div>
        </form>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script src="scripts.js"></script>
    <script>
        function exibeUsuario() {
            $("#table-usuario").html("");

            for (i = 0; i < db.data.length; i++) {
                let contato = db.data[i];    
                $("#table-usuario").append(`<tr><td scope="row">${usuario.id}</td>
                                                <td>${usuario.nome}</td>
                                                <td>${usuario.data}</td>
                                                <td>${usuario.telefone}</td>
                                                <td>${usuario.email}</td>
                                                <td>${usuario.cidade}</td>
                                                <td>${usuario.uf}</td>
                                                <td>${usuario.cep}</td>
                                                <td>${usuario.cpf}</td>
                                                <td>${usuario.crm}</td>
                                                <td>${usuario.especialidade}</td>
                                                <td>${usuario.endereco}</td>
                                                <td>${usuario.password}</td>
                                            </tr>`);
            }
        }

        function init() {
            $("#btnInsert").click(function () {
                if (!$('#form-usuario')[0].checkValidity()) {
                    displayMessage("Preencha todos os espaços.");
                    return;
                }

                let campoNome = $("#inputNome").val();
                let campoData = $("#inputData").val();
                let campoTelefone = $("#inputTelefone").val();
                let campoEmail = $('#inputEmail').val();
                let campoCidade = $("#inputCidade").val();
                let campoUF = $("#inputUF").val();
                let campoCEP = $("#inputCEP").val();
                let campoCPF = $("#inputCPF").val();
                let campoCRM = $("#inputCRM").val();
                let campoEspecialidade = $("#inputEspecialidade").val();
                let campoEndereço = $('#inputEndereço').val();
                let campoPassword = $('#inputPassword').val();
                let usuario = { nome: campoNome, 
                    Data: campoData,
                    telefone: campoTelefone, 
                    email: campoEmail, 
                    cidade: campoCidade, 
                    UF: campoUF,
                    CEP: campoCEP,
                    CPF: campoCPF,
                    CRM: campoCRM,
                    especialidade: campoEspecialidade,
                    endereco: campoEndereço,
                    password: campoPassword };

                insertUsuario(usuario);

                exibeUsuario();

                $("#form-usuario")[0].reset();
            });


        }
    </script>
</body>

</html>